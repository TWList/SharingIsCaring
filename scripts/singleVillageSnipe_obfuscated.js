const _0x1b78e7=_0x2ae5;(function(_0x3e6204,_0x10d191){const _0xb48cde=_0x2ae5,_0x5e1eb5=_0x3e6204();while(!![]){try{const _0xd0bbb4=parseInt(_0xb48cde(0x2c0))/0x1*(parseInt(_0xb48cde(0x1cf))/0x2)+parseInt(_0xb48cde(0x1b2))/0x3+parseInt(_0xb48cde(0x21e))/0x4*(parseInt(_0xb48cde(0x2d1))/0x5)+-parseInt(_0xb48cde(0x22f))/0x6+parseInt(_0xb48cde(0x219))/0x7*(parseInt(_0xb48cde(0x1a9))/0x8)+-parseInt(_0xb48cde(0x251))/0x9*(parseInt(_0xb48cde(0x1ff))/0xa)+-parseInt(_0xb48cde(0x1ba))/0xb*(-parseInt(_0xb48cde(0x2a0))/0xc);if(_0xd0bbb4===_0x10d191)break;else _0x5e1eb5['push'](_0x5e1eb5['shift']());}catch(_0x2bb92d){_0x5e1eb5['push'](_0x5e1eb5['shift']());}}}(_0x1ed5,0x35c7a));var scriptData={'prefix':_0x1b78e7(0x2c7),'name':'Single\x20Village\x20Snipe','version':_0x1b78e7(0x2c2),'author':'You','authorUrl':_0x1b78e7(0x25c),'helpLink':_0x1b78e7(0x222)};if(typeof DEBUG!==_0x1b78e7(0x1cb))DEBUG=!![];var LS_PREFIX='raSingleVillageSnipe',TIME_INTERVAL=0x3c*0x3c*0x3e8*0x18*0x1,GROUP_ID=localStorage[_0x1b78e7(0x258)](LS_PREFIX+'_chosen_group')??0x0,LAST_UPDATED_TIME=localStorage[_0x1b78e7(0x258)](LS_PREFIX+'_last_updated')??0x0,unitInfo,villages=[],troopCounts=[],translations={'en_DK':{'Single\x20Village\x20Snipe':_0x1b78e7(0x271),'Help':_0x1b78e7(0x25d),'This\x20script\x20can\x20only\x20be\x20run\x20on\x20a\x20single\x20village\x20screen!':_0x1b78e7(0x2c1),'Landing\x20Time':'Landing\x20Time','Calculate\x20Launch\x20Times':_0x1b78e7(0x210),'Export\x20as\x20BB\x20Code':'Export\x20as\x20BB\x20Code','Landing\x20time\x20was\x20updated!':_0x1b78e7(0x29e),'Plan\x20for:':'Plan\x20for:','Landing\x20Time:':_0x1b78e7(0x29f),'Unit':'Unit','From':'From','Launch\x20Time':'Launch\x20Time','Command':_0x1b78e7(0x2b1),'Status':'Status','Send':_0x1b78e7(0x29a),'Error\x20fetching\x20village\x20groups!':_0x1b78e7(0x28d),'Choose\x20Units\x20to\x20Snipe':_0x1b78e7(0x1fa),'Group':_0x1b78e7(0x207),'No\x20possible\x20snipe\x20options\x20found!':'No\x20possible\x20snipe\x20options\x20found!','Distance':_0x1b78e7(0x2bf),'An\x20error\x20occured\x20while\x20fetching\x20troop\x20counts!':_0x1b78e7(0x24a),'snipe\x20attempts\x20found':_0x1b78e7(0x29c),'Nothing\x20to\x20export!':_0x1b78e7(0x276),'Target:':_0x1b78e7(0x226),'Send\x20in':'Send\x20in','Destination\x20Village':'Destination\x20Village','Sigil':_0x1b78e7(0x1a2),'Min.\x20Amount':_0x1b78e7(0x216),'Export\x20Config':_0x1b78e7(0x235),'Import\x20Config':_0x1b78e7(0x23d),'Configuration\x20imported\x20successfully!':_0x1b78e7(0x284),'Nothing\x20to\x20import!':'Nothing\x20to\x20import!','There\x20was\x20an\x20error\x20fetching\x20villages\x20by\x20group!':_0x1b78e7(0x24d),'Reset\x20Chosen\x20Group':_0x1b78e7(0x228),'Chosen\x20group\x20was\x20reset!':_0x1b78e7(0x236),'There\x20was\x20an\x20error!':'There\x20was\x20an\x20error!'},'it_IT':{'Single\x20Village\x20Snipe':'Snipe\x20Singolo\x20Villaggio','Help':_0x1b78e7(0x212),'This\x20script\x20can\x20only\x20be\x20run\x20on\x20a\x20single\x20village\x20screen!':_0x1b78e7(0x217),'Landing\x20Time':_0x1b78e7(0x2a8),'Calculate\x20Launch\x20Times':_0x1b78e7(0x1d7),'Export\x20as\x20BB\x20Code':'Esporta\x20in\x20BB\x20code','Landing\x20time\x20was\x20updated!':_0x1b78e7(0x1b5),'Plan\x20for:':_0x1b78e7(0x2a6),'Landing\x20Time:':_0x1b78e7(0x1c5),'Unit':'UnitÃ\x20','From':'Da','Launch\x20Time':'Tempo\x20di\x20lancio','Command':_0x1b78e7(0x282),'Status':'Stato','Send':_0x1b78e7(0x2af),'Error\x20fetching\x20village\x20groups!':_0x1b78e7(0x1ad),'Choose\x20Units\x20to\x20Snipe':'Scegli\x20l\x27unitÃ\x20\x20con\x20cui\x20ninjare','Group':'Gruppo','No\x20possible\x20snipe\x20options\x20found!':_0x1b78e7(0x257),'Distance':_0x1b78e7(0x2ab),'An\x20error\x20occured\x20while\x20fetching\x20troop\x20counts!':_0x1b78e7(0x2c5),'snipe\x20attempts\x20found':_0x1b78e7(0x1a6),'Nothing\x20to\x20export!':_0x1b78e7(0x25f),'Target:':'Target:','Send\x20in':_0x1b78e7(0x2a4),'Destination\x20Village':_0x1b78e7(0x2be),'Sigil':'Sigillo','Min.\x20Amount':'Qnt.\x20Minima','Export\x20Config':_0x1b78e7(0x26f),'Import\x20Config':'Importa\x20configurazione','Configuration\x20imported\x20successfully!':'Configurazione\x20importat\x20con\x20successo!','Nothing\x20to\x20import!':_0x1b78e7(0x2cf),'There\x20was\x20an\x20error\x20fetching\x20villages\x20by\x20group!':_0x1b78e7(0x24d),'Reset\x20Chosen\x20Group':_0x1b78e7(0x228),'Chosen\x20group\x20was\x20reset!':'Chosen\x20group\x20was\x20reset!','There\x20was\x20an\x20error!':'C\x27era\x20un\x20errore!'},'pt_PT':{'Single\x20Village\x20Snipe':'Aldeia\x20Ãšnica\x20Snipe','Help':'Ajuda','This\x20script\x20can\x20only\x20be\x20run\x20on\x20a\x20single\x20village\x20screen!':'Este\x20script\x20sÃ³\x20pode\x20ser\x20executado\x20num\x20Ãºnico\x20ecrÃ£\x20da\x20aldeia!','Landing\x20Time':_0x1b78e7(0x249),'Calculate\x20Launch\x20Times':'Calcular\x20os\x20tempos\x20de\x20lanÃ§amento','Export\x20as\x20BB\x20Code':_0x1b78e7(0x211),'Landing\x20time\x20was\x20updated!':'A\x20hora\x20de\x20aterragem\x20foi\x20atualizada!','Plan\x20for:':'Plano\x20para:','Landing\x20Time:':'hora\x20de\x20aterragem:','Unit':_0x1b78e7(0x272),'From':'de','Launch\x20Time':'Hora\x20do\x20lanÃ§amento','Command':_0x1b78e7(0x282),'Status':_0x1b78e7(0x298),'Send':_0x1b78e7(0x23c),'Error\x20fetching\x20village\x20groups!':'Erro\x20a\x20carregar\x20os\x20grupos\x20de\x20aldeias!','Choose\x20Units\x20to\x20Snipe':_0x1b78e7(0x203),'Group':'Grupo','No\x20possible\x20snipe\x20options\x20found!':_0x1b78e7(0x1e8),'Distance':_0x1b78e7(0x1f3),'An\x20error\x20occured\x20while\x20fetching\x20troop\x20counts!':_0x1b78e7(0x1c8),'snipe\x20attempts\x20found':_0x1b78e7(0x1fe),'Nothing\x20to\x20export!':'Nada\x20para\x20exportar!','Target:':_0x1b78e7(0x294),'Send\x20in':'Enviar\x20em','Destination\x20Village':_0x1b78e7(0x2b8),'Sigil':_0x1b78e7(0x1a2),'Min.\x20Amount':'Min.\x20quantidade','Export\x20Config':_0x1b78e7(0x2b9),'Import\x20Config':'Importar\x20Config','Configuration\x20imported\x20successfully!':'ConfiguraÃ§Ã£o\x20importada\x20com\x20sucesso!','Nothing\x20to\x20import!':'Nada\x20para\x20importar!','There\x20was\x20an\x20error\x20fetching\x20villages\x20by\x20group!':'There\x20was\x20an\x20error\x20fetching\x20villages\x20by\x20group!','Reset\x20Chosen\x20Group':'Reset\x20Chosen\x20Group','Chosen\x20group\x20was\x20reset!':_0x1b78e7(0x236),'There\x20was\x20an\x20error!':_0x1b78e7(0x1d3)}};initDebug(),countAPI();LAST_UPDATED_TIME!==null?Date[_0x1b78e7(0x1d0)](new Date())>=LAST_UPDATED_TIME+TIME_INTERVAL?fetchUnitInfo():unitInfo=JSON[_0x1b78e7(0x1d0)](localStorage[_0x1b78e7(0x258)](LS_PREFIX+_0x1b78e7(0x1da))):fetchUnitInfo();async function initVillageSnipe(_0x326ff3){const _0xea9dc0=_0x1b78e7;villages=await fetchAllPlayerVillagesByGroup(_0x326ff3),troopCounts=await fetchTroopsForCurrentGroup(_0x326ff3);const _0xb7614f=await fetchVillageGroups(),_0x1045dd=buildUnitsChoserTable(),_0x16f227=prepareContent(_0xb7614f,_0x1045dd);renderUI(_0x16f227),DEBUG&&(console[_0xea9dc0(0x2b0)](scriptInfo()+_0xea9dc0(0x1c4),_0x326ff3),console[_0xea9dc0(0x2b0)](scriptInfo()+'\x20villages:\x20',villages),console['debug'](scriptInfo()+_0xea9dc0(0x20c),troopCounts)),setTimeout(function(){const _0x11bfb7=_0xea9dc0,_0x2deff8=new Date()[_0x11bfb7(0x21f)](_0x11bfb7(0x296))[_0x11bfb7(0x264)](',','');jQuery(_0x11bfb7(0x2b4))[_0x11bfb7(0x265)](_0x2deff8);const _0x9db80d=jQuery(_0x11bfb7(0x2bb))[_0x11bfb7(0x1bf)]();jQuery(_0x11bfb7(0x266))[_0x11bfb7(0x265)](_0x9db80d);},0x64),jQuery('html,body')['animate']({'scrollTop':jQuery(_0xea9dc0(0x1f2))[_0xea9dc0(0x2cd)]()[_0xea9dc0(0x1b9)]-0x8},_0xea9dc0(0x27a)),calculateLaunchTimes(),fillLandingTimeFromCommand(),filterVillagesByChosenGroup(),exportBBCode(),exportConfig(),importConfig(),resetGroup();}function prepareContent(_0x520bea,_0x31c3f7){const _0x185977=_0x1b78e7,_0x122ecb=renderGroupsFilter(_0x520bea);return _0x185977(0x2bd)+tt('Destination\x20Village')+_0x185977(0x287)+tt(_0x185977(0x1ce))+_0x185977(0x2d7)+tt(_0x185977(0x1a2))+_0x185977(0x21b)+tt(_0x185977(0x216))+'</label>\x0a\x09\x09\x09\x09\x09<input\x20id=\x22raMinAmount\x22\x20type=\x22text\x22\x20value=\x2250\x22>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div>\x0a\x09\x09\x09\x09\x09<label>'+tt('Group')+_0x185977(0x273)+_0x122ecb+_0x185977(0x1bc)+tt(_0x185977(0x1fa))+_0x185977(0x27e)+_0x31c3f7+'\x0a\x09\x09</div>\x0a\x09\x09<div\x20class=\x22ra-mb15\x22>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0);\x22\x20id=\x22calculateLaunchTimes\x22\x20class=\x22btn\x20btn-confirm-yes\x22>\x0a\x09\x09\x09\x09'+tt('Calculate\x20Launch\x20Times')+_0x185977(0x1e1)+tt('Export\x20as\x20BB\x20Code')+_0x185977(0x1df)+tt(_0x185977(0x235))+_0x185977(0x1f9)+tt(_0x185977(0x23d))+_0x185977(0x1fb)+tt('Reset\x20Chosen\x20Group')+_0x185977(0x1e6)+tt('snipe\x20attempts\x20found')+_0x185977(0x214);}function renderUI(_0x431cdf){const _0x49b587=_0x1b78e7,_0x45879a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ra-single-village-snipe\x22\x20id=\x22raSingleVillageSnipe\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>'+tt(scriptData[_0x49b587(0x1f0)])+_0x49b587(0x22c)+_0x431cdf+_0x49b587(0x242)+tt(scriptData[_0x49b587(0x1f0)])+'\x20'+scriptData[_0x49b587(0x1cc)]+_0x49b587(0x293)+scriptData[_0x49b587(0x1a5)]+_0x49b587(0x1e9)+scriptData['author']+_0x49b587(0x29d)+scriptData[_0x49b587(0x233)]+_0x49b587(0x1e9)+tt('Help')+_0x49b587(0x224);jQuery('.ra-single-village-snipe')[_0x49b587(0x248)]<0x1?jQuery(_0x49b587(0x2ac))[_0x49b587(0x260)](_0x45879a):jQuery(_0x49b587(0x1ae))[_0x49b587(0x239)](_0x431cdf);}function exportConfig(){const _0x44dd56=_0x1b78e7;jQuery('#exportConfig')['on'](_0x44dd56(0x2c4),function(_0xf59290){const _0x45a64c=_0x44dd56,_0x537380=jQuery(_0x45a64c(0x266))[_0x45a64c(0x265)](),_0x97c139=jQuery('#raLandingTime')[_0x45a64c(0x265)](),_0xc0e931=jQuery(_0x45a64c(0x254))[_0x45a64c(0x265)](),_0x1e17db=jQuery(_0x45a64c(0x22e))[_0x45a64c(0x265)](),_0x51042e={'destinationVillage':_0x537380,'landingTime':_0x97c139,'sigil':_0xc0e931,'minAmount':_0x1e17db},_0x5dc388=_0x45a64c(0x22d)+JSON[_0x45a64c(0x268)](_0x51042e)+_0x45a64c(0x1c0);Dialog[_0x45a64c(0x297)](_0x45a64c(0x1bb),_0x5dc388);});}function _0x1ed5(){const _0x63fb41=['Single\x20Village\x20Snipe','Unidade','</label>\x0a\x09\x09\x09\x09\x09','#raGroupsFilter','&y=','Nothing\x20to\x20export!','\x0a\x09\x09\x09\x09<div\x20class=\x22ra-popup-content\x22>\x0a\x09\x09\x09\x09\x09<label\x20for=\x22exportBBCodeInput\x22>','sort','\x22>\x0a\x09\x09\x09\x09\x09\x09\x09<img\x20src=\x22/graphic/unit/unit_','slow','catapult','td:eq(','#importConfigField','</label>\x0a\x09\x09\x09','/game.php?t=','groups&ajax=load_villages_from_group&t=','\x20possibleSnipes:','Comando','groups&mode=overview&ajax=load_group_menu&t=','Configuration\x20imported\x20successfully!','[/**]\x0a','\x22\x20/>\x0a\x09\x09\x09\x09\x09</td>\x0a\x09\x09\x09\x09','\x0a\x09\x09\x09\x09\x09</label>\x0a\x09\x09\x09\x09\x09<input\x20id=\x22raDestinationVillage\x22\x20type=\x22text\x22\x20value=\x22\x22>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div>\x0a\x09\x09\x09\x09\x09<label\x20for=\x22raLandingTime\x22>\x0a\x09\x09\x09\x09\x09\x09','getHours','From','groups&ajax=load_villages_from_group','\x20Game\x20Version:','checked','Error\x20fetching\x20village\x20groups!','\x0a\x09\x09\x09\x09\x09<th\x20class=\x22ra-text-center\x22>\x0a\x09\x09\x09\x09\x09\x09<label\x20for=\x22unit_','result','\x20storedChosenUnits:','militia','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</strong>\x20-\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','\x20Alvo:','timers','en-GB','show','Estado','init','Send','>\x0a\x09\x09\x09\x09\x09','snipe\x20attempts\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x20-\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','Landing\x20time\x20was\x20updated!','Landing\x20Time:','36IoBAdH','</span>\x0a\x09\x09\x09\x09</td>\x0a\x09\x09\x09\x09<td>\x0a\x09\x09\x09\x09\x09<a\x20href=\x22','sword','toFixed','Lancia\x20tra','\x0a\x09\x09\x09</tbody>\x0a\x09\x09</table>\x0a\x09','Plan\x20per:','spear','Tempo\x20di\x20arrivo','getTime','config','Distanza','#contentContainer','player','\x0a[b]','Invia','debug','Command','_chosen_units','\x0a\x09\x09\x09<tr>\x0a\x09\x09\x09\x09<td>\x0a\x09\x09\x09\x09\x09','#raLandingTime','https://api.countapi.xyz/hit/','spy','world','Aldeia\x20de\x20Destino','Exportar\x20Config','trim','#content_value\x20table\x20table\x20td:eq(2)','includes','\x0a\x09\x09<div\x20class=\x22ra-mb15\x22>\x0a\x09\x09\x09<div\x20class=\x22ra-grid\x22>\x0a\x09\x09\x09\x09<div>\x0a\x09\x09\x09\x09\x09<label\x20for=\x22raDestinationVillage\x22>\x0a\x09\x09\x09\x09\x09\x09','Villaggio\x20di\x20destinazione','Distance','1gQJaNb','This\x20script\x20can\x20only\x20be\x20run\x20on\x20a\x20single\x20village\x20screen!','v1.7.0','#group_table\x20>\x20tbody\x20>\x20tr','click','Errore\x20nel\x20recupero\x20conteggio\x20truppe!','td:eq(2)\x20span','singleVillageSnipe','href','#combined_table\x20tr.nowrap','searchParams','error','Unit','offset','#possibleCombinationsTable','Non\x20c\x27Ã¨\x20nulla\x20da\x20importare!','getMonth','365EFWwKR','village','find','link_base_pure','sitter','\x0a\x09\x09\x09\x09</td>\x0a\x09\x09\x09\x09<td\x20class=\x22ra-text-left\x22>\x0a\x09\x09\x09\x09\x09<a\x20href=\x22','\x20(dd/mm/yyyy\x20HH:mm:ss)\x0a\x09\x09\x09\x09\x09</label>\x0a\x09\x09\x09\x09\x09<input\x20id=\x22raLandingTime\x22\x20type=\x22text\x22\x20value=\x22\x22>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div>\x0a\x09\x09\x09\x09\x09<label\x20for=\x22raLandingTime\x22>\x0a\x09\x09\x09\x09\x09\x09','[||]','removeClass','td:eq(0)','Sigil','#resetGroupBtn','[|][url=','authorUrl','Ninjata\x20possibile\x20trovata','value','data-snipe','42104MzSFwV','data-id','&village=','preventDefault','Errore\x20nel\x20recupero\x20gruppo!','.ra-single-village-snipe-data','done','[/size]\x0a\x0a','\x20times.','618207AMIwdm','_chosen_group','ErrorMessage','Il\x20tempo\x20di\x20arrivo\x20Ã¨\x20stato\x20aggiornato!','setTime','tagName','\x0a\x09\x09\x09\x09\x09</th>\x0a\x09\x09\x09\x09</tr>\x0a\x09\x09\x09</thead>\x0a\x09\x09\x09<tbody>\x0a\x09','top','1353341MjTorU','content','\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09</div>\x0a\x09\x09</div>\x0a\x09\x09<div\x20class=\x22ra-mb15\x22>\x0a\x09\x09\x09<label>','SuccessMessage','\x0a\x09\x09</select>\x0a\x09','text','</textarea>\x0a\x09\x09\x09</div>\x0a\x09\x09','\x0a\x09\x09\x09\x09\x09</th>\x0a\x09\x09\x09\x09\x09<th>\x0a\x09\x09\x09\x09\x09\x09','charAt','[/table]','\x20groupId:\x20','Tempo\x20di\x20arrivo:','info_village','#calculateLaunchTimes','Ocorreu\x20um\x20erro\x20ao\x20recolher\x20as\x20contagens\x20das\x20tropas!','parseHTML','ra-chosen-command','boolean','version','get','Landing\x20Time','165518ONMHlm','parse','not','text/html','There\x20was\x20an\x20error!','\x0a\x09\x09\x09\x09\x09<td\x20class=\x22ra-text-center\x22>\x0a\x09\x09\x09\x09\x09\x09<input\x20name=\x22ra_chosen_units\x22\x20type=\x22checkbox\x22\x20','market','split','Calcola\x20tempi\x20di\x20lancio','toString','[table][**]','_unit_info','addClass','[*][unit]','\x0a\x09\x09\x09\x09\x09</a>\x0a\x09\x09\x09\x09</td>\x0a\x09\x09\x09</tr>\x0a\x09\x09','\x0a\x09\x09\x09<div\x20class=\x22ra-popup-content\x22>\x0a\x09\x09\x09\x09<textarea\x20id=\x22importConfigField\x22></textarea>\x0a\x09\x09\x09\x09<a\x20href=\x22javascript:void(0);\x22\x20id=\x22importConfigBtn\x22\x20class=\x22btn\x22>','\x0a\x09\x09\x09</a>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0);\x22\x20id=\x22exportConfig\x22\x20class=\x22btn\x22>\x0a\x09\x09\x09\x09','getFullYear','\x0a\x09\x09\x09</a>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0);\x22\x20id=\x22exportBBCodeBtn\x22\x20class=\x22btn\x22\x20data-snipe=\x22\x22>\x0a\x09\x09\x09\x09','info_village&id=','\x20[|]','features','Launch\x20Time','\x0a\x09\x09\x09</a>\x0a\x09\x09</div>\x0a\x09\x09<div\x20style=\x22display:none;\x22\x20class=\x22ra-mb15\x22\x20id=\x22raPossibleCombinations\x22>\x0a\x09\x09\x09<label><span\x20id=\x22possibleCombinationsCount\x22>0</span>\x20','setItem','NÃ£o\x20foram\x20encontradas\x20possÃ­veis\x20opÃ§Ãµes\x20de\x20snipe!','\x22\x20target=\x22_blank\x22\x20rel=\x22noreferrer\x20noopener\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','&screen=place&x=','td:eq(1)','Send\x20in','\x20HELP:','\x20World:','villageId','name','archer','#raSingleVillageSnipe','DistÃ¢ncia','padStart','units','\x20This\x20script\x20has\x20been\x20run\x20','td:eq(0)\x20a','[/b]\x20','\x0a\x09\x09\x09</a>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0);\x22\x20id=\x22importConfig\x22\x20class=\x22btn\x22>\x0a\x09\x09\x09\x09','Choose\x20Units\x20to\x20Snipe','\x0a\x09\x09\x09</a>\x0a\x09\x09\x09<a\x20href=\x22javascript:void(0);\x22\x20id=\x22resetGroupBtn\x22\x20class=\x22btn\x22>\x0a\x09\x09\x09\x09','change','\x20Market:','tentativas\x20de\x20snipe\x20encontradas','13660LUSVif','\x0a\x09\x09\x09\x09</td>\x0a\x09\x09\x09\x09<td>\x0a\x09\x09\x09\x09\x09','active','push','Escolha\x20unidades\x20para\x20Snipe','then','</a>\x0a\x09\x09\x09</div>\x0a\x09\x09','\x20It\x20works\x20ðŸš€!','Group','[/unit]\x20','\x0a\x09\x09\x09\x09</tr>\x0a\x09\x09\x09</tbody>\x0a\x09\x09</table>\x0a\x09','#exportBBCodeBtn','abs','\x20troopCounts:\x20','heavy','\x0a\x09\x09<select\x20name=\x22ra_groups_filter\x22\x20id=\x22raGroupsFilter\x22>\x0a\x09','\x20Screen:','Calculate\x20Launch\x20Times','\x20Exportar\x20como\x20CÃ³digo\x20BB\x20','Aiuto','\x20Locale:','</label>\x0a\x09\x09\x09<div\x20id=\x22possibleCombinationsTable\x22></div>\x0a\x09\x09</div>\x0a\x09','No\x20possible\x20snipe\x20options\x20found!','Min.\x20Amount','Questo\x20script\x20puÃ²\x20essere\x20lanciato\x20solo\x20dalla\x20panoramica\x20del\x20villaggio','\x0a\x09\x09<table\x20class=\x22ra-table\x20vis\x22\x20width=\x22100%\x22>\x0a\x09\x09\x09<thead>\x0a\x09\x09\x09\x09<tr>\x0a\x09\x09\x09\x09\x09<th>\x0a\x09\x09\x09\x09\x09\x09#\x0a\x09\x09\x09\x09\x09</th>\x0a\x09\x09\x09\x09\x09<th\x20class=\x22ra-text-left\x22>\x0a\x09\x09\x09\x09\x09\x09','77nmAPjf','/game.php?village=','\x0a\x09\x09\x09\x09\x09</label>\x0a\x09\x09\x09\x09\x09<input\x20id=\x22raSigil\x22\x20type=\x22text\x22\x20value=\x220\x22>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div>\x0a\x09\x09\x09\x09\x09<label>','#possibleCombinationsCount','\x20troopCounts:','2744PImHKD','toLocaleString','location','img','https://forum.tribalwars.net/index.php?threads/single-village-snipe.286731/','.png\x22\x20/>\x20<span\x20class=\x22ra-unit-count\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ra-single-village-snipe\x20{\x20position:\x20relative;\x20display:\x20block;\x20width:\x20auto;\x20height:\x20auto;\x20clear:\x20both;\x20margin:\x200\x20auto\x2015px;\x20padding:\x2010px;\x20border:\x201px\x20solid\x20#603000;\x20box-sizing:\x20border-box;\x20background:\x20#f4e4bc;\x20}\x0a\x09\x09\x09.ra-single-village-snipe\x20*\x20{\x20box-sizing:\x20border-box;\x20}\x0a\x09\x09\x09.ra-single-village-snipe\x20input[type=\x22text\x22]\x20{\x20width:\x20100%;\x20padding:\x205px\x2010px;\x20border:\x201px\x20solid\x20#000;\x20font-size:\x2016px;\x20line-height:\x201;\x20}\x0a\x09\x09\x09.ra-single-village-snipe\x20label\x20{\x20font-weight:\x20600\x20!important;\x20margin-bottom:\x205px;\x20display:\x20block;\x20}\x0a\x09\x09\x09.ra-single-village-snipe\x20select\x20{\x20width:\x20100%;\x20padding:\x205px\x2010px;\x20border:\x201px\x20solid\x20#000;\x20font-size:\x2016px;\x20line-height:\x201;\x20}\x0a\x09\x09\x09.ra-single-village-snipe\x20.btn-confirm-yes\x20{\x20padding:\x203px;\x20}\x0a\x09\x09\x09.ra-single-village-snipe\x20.ra-grid\x20{\x20display:\x20grid;\x20grid-template-columns:\x20150px\x201fr\x20100px\x20150px\x20150px;\x20grid-gap:\x200\x2020px;\x20}\x0a\x09\x09\x09/*\x20Normal\x20Table\x20*/\x0a\x09\x09\x09.ra-table\x20{\x20border-collapse:\x20separate\x20!important;\x20border-spacing:\x202px\x20!important;\x20}\x0a\x09\x09\x09.ra-table\x20label,\x0a\x09\x09\x09.ra-table\x20input\x20{\x20cursor:\x20pointer;\x20margin:\x200;\x20}\x0a\x09\x09\x09.ra-table\x20th\x20{\x20font-size:\x2014px;\x20}\x0a\x09\x09\x09.ra-table\x20th,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ra-table\x20td\x20{\x20padding:\x204px;\x20text-align:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ra-table\x20td\x20a\x20{\x20word-break:\x20break-all;\x20}\x0a\x09\x09\x09.ra-table\x20tr:nth-of-type(2n+1)\x20td\x20{\x20background-color:\x20#fff5da;\x20}\x0a\x09\x09\x09.ra-table\x20a:focus:not(a.btn)\x20{\x20color:\x20blue;\x20}\x0a\x09\x09\x09/*\x20Popup\x20Content\x20*/\x0a\x09\x09\x09.ra-popup-content\x20{\x20position:\x20relative;\x20display:\x20block;\x20width:\x20360px;\x20}\x0a\x09\x09\x09.ra-popup-content\x20*\x20{\x20box-sizing:\x20border-box;\x20}\x0a\x09\x09\x09.ra-popup-content\x20label\x20{\x20font-weight:\x20600\x20!important;\x20margin-bottom:\x205px;\x20display:\x20block;\x20}\x0a\x09\x09\x09.ra-popup-content\x20textarea\x20{\x20width:\x20100%;\x20height:\x20100px;\x20resize:\x20none;\x20}\x0a\x09\x09\x09/*\x20Helpers\x20*/\x0a\x09\x09\x09.ra-mb15\x20{\x20margin-bottom:\x2015px;\x20}\x0a\x09\x09\x09.ra-mb30\x20{\x20margin-bottom:\x2030px;\x20}\x0a\x09\x09\x09.ra-chosen-command\x20td\x20{\x20background-color:\x20#ffe563\x20!important;\x20}\x0a\x09\x09\x09.ra-text-left\x20{\x20text-align:\x20left\x20!important;\x20}\x0a\x09\x09\x09.ra-text-center\x20{\x20text-align:\x20center\x20!important;\x20}\x0a\x09\x09\x09.ra-unit-count\x20{\x20display:\x20inline-block;\x20margin-top:\x203px;\x20vertical-align:\x20top;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20','parseFromString','Target:','btn-confirm-yes','Reset\x20Chosen\x20Group','locale','</textarea>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09','\x20selected\x20group\x20ID:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ra-single-village-snipe-data\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x09\x09\x09<div\x20class=\x22ra-popup-content\x22>\x0a\x09\x09\x09\x09<textarea\x20readonly>','#raMinAmount','1282032eTufyt','#raPossibleCombinations','catch','#importConfig','helpLink',':checked','Export\x20Config','Chosen\x20group\x20was\x20reset!','\x20Premium:','unit_','html','.png','#combined_table\x20tr:eq(0)\x20th','Enviar','Import\x20Config','src','en_DK','.png\x22>\x0a\x09\x09\x09\x09\x09\x09</label>\x0a\x09\x09\x09\x09\x09</th>\x0a\x09\x09\x09\x09','pop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22ra-unit-selector\x22\x20value=\x22','Premium','\x0a\x09\x09<table\x20class=\x22ra-table\x20vis\x22\x20width=\x22100%\x22\x20id=\x22raUnitSelector\x22>\x0a\x09\x09\x09<thead>\x0a\x09\x09\x09\x09<tr>\x0a\x09\x09\x09\x09\x09','entries','Status','length','Hora\x20de\x20chegada','An\x20error\x20occured\x20while\x20fetching\x20troop\x20counts!','hide','overview_villages&mode=combined&group=','There\x20was\x20an\x20error\x20fetching\x20villages\x20by\x20group!','forEach','#serverDate','\x20Error:','2187HsYEcL','Nothing\x20to\x20import!','target','#raSigil','ajax','attr','Nessuna\x20combinazione\x20disponibile!','getItem','\x20id=\x22unit_','prop','removeItem','https://you.dev/','Help','\x20realSnipes:','Non\x20c\x27Ã¨\x20niente\x20da\x20esportare!','prepend','[/url][|]\x0a','[size=12][b]','snob','replace','val','#raDestinationVillage','\x20chosenUnits:','stringify','tickHandlers','screen','each','floor','groups&mode=overview&ajax=load_group_menu','origin','Esporta\x20configurazione','\x0a\x09\x09\x09\x09<option\x20value=\x22'];_0x1ed5=function(){return _0x63fb41;};return _0x1ed5();}function importConfig(){const _0x23ac53=_0x1b78e7;jQuery(_0x23ac53(0x232))['on'](_0x23ac53(0x2c4),function(_0x4ceea3){const _0xf79008=_0x23ac53,_0x2b1a3f=_0xf79008(0x1de)+tt('Import\x20Config')+_0xf79008(0x205);Dialog['show']('content',_0x2b1a3f),jQuery('#importConfigBtn')['on'](_0xf79008(0x2c4),function(_0x4dc65c){const _0x9fadb3=_0xf79008;_0x4dc65c['preventDefault']();const _0x131b14=jQuery(_0x9fadb3(0x27d))[_0x9fadb3(0x265)]();if(_0x131b14[_0x9fadb3(0x248)]){const _0x1e3900=JSON[_0x9fadb3(0x1d0)](_0x131b14),{destinationVillage:_0x388af2,landingTime:_0x29d776,minAmount:_0xecb9df,sigil:_0x56a5e}=_0x1e3900;jQuery(_0x9fadb3(0x266))['val'](_0x388af2),jQuery(_0x9fadb3(0x2b4))['val'](_0x29d776),jQuery(_0x9fadb3(0x254))[_0x9fadb3(0x265)](_0x56a5e),jQuery(_0x9fadb3(0x22e))[_0x9fadb3(0x265)](_0xecb9df),jQuery(_0x9fadb3(0x1c7))['trigger'](_0x9fadb3(0x2c4)),UI[_0x9fadb3(0x1bd)](tt(_0x9fadb3(0x284)));}else UI[_0x9fadb3(0x1b4)](tt(_0x9fadb3(0x252)));});});}function resetGroup(){const _0xc94602=_0x1b78e7;jQuery(_0xc94602(0x1a3))['on'](_0xc94602(0x2c4),function(_0x1e15b8){const _0x5c0794=_0xc94602;_0x1e15b8['preventDefault'](),localStorage[_0x5c0794(0x25b)](LS_PREFIX+_0x5c0794(0x1b3)),UI[_0x5c0794(0x1bd)](tt(_0x5c0794(0x236))),initVillageSnipe(0x0);});}function calculateLaunchTimes(){const _0x5f37cf=_0x1b78e7;jQuery(_0x5f37cf(0x1c7))['on']('click',function(_0x3d6ff9){const _0x1cefff=_0x5f37cf;_0x3d6ff9[_0x1cefff(0x1ac)]();const _0x349437=jQuery(_0x1cefff(0x2b4))['val']()[_0x1cefff(0x2ba)](),_0xfb1e2c=jQuery(_0x1cefff(0x266))[_0x1cefff(0x265)]()['trim'](),_0x1db3b6=parseInt(jQuery(_0x1cefff(0x22e))['val']()['trim']()),_0x57b140=[];jQuery('.ra-unit-selector')[_0x1cefff(0x26b)](function(){const _0x8f6d41=_0x1cefff;jQuery(this)['is'](_0x8f6d41(0x234))&&_0x57b140[_0x8f6d41(0x202)](this[_0x8f6d41(0x1a7)]);});_0x57b140[_0x1cefff(0x248)]&&localStorage[_0x1cefff(0x1e7)](LS_PREFIX+_0x1cefff(0x2b2),JSON['stringify'](_0x57b140));DEBUG&&(console[_0x1cefff(0x2b0)](scriptInfo()+'\x20landingTimeString:',_0x349437),console[_0x1cefff(0x2b0)](scriptInfo()+'\x20destinationVillage:',_0xfb1e2c),console[_0x1cefff(0x2b0)](scriptInfo()+'\x20minAmount:',_0x1db3b6),console[_0x1cefff(0x2b0)](scriptInfo()+_0x1cefff(0x267),_0x57b140));const _0x53fa23=getLandingTime(_0x349437),_0x5e0929=getServerTime(),_0x40117c=[],_0x10f9d2=[];villages[_0x1cefff(0x24e)](_0x3c0e2f=>{const _0x404d62=_0x1cefff,{id:_0x1b58a6,name:_0x847d0d,coords:_0x356044}=_0x3c0e2f,_0x36ada8=calculateDistance(_0x356044,_0xfb1e2c);_0x57b140[_0x404d62(0x24e)](_0xe29821=>{const _0x235e2e=getLaunchTime(_0xe29821,_0x53fa23,_0x36ada8);if(_0x235e2e>_0x5e0929['getTime']()){const _0x30473b=formatDateTime(_0x235e2e);_0x36ada8>0x0&&_0x40117c['push']({'id':_0x1b58a6,'name':_0x847d0d,'unit':_0xe29821,'coords':_0x356044,'distance':_0x36ada8,'launchTime':_0x235e2e,'formattedLaunchTime':_0x30473b});}});}),_0x40117c[_0x1cefff(0x278)]((_0x3d002a,_0x344926)=>{return _0x3d002a['launchTime']-_0x344926['launchTime'];}),_0x40117c['forEach'](_0x2d8b1b=>{const _0x11efa8=_0x1cefff,{id:_0x432728,unit:_0x3eafd6}=_0x2d8b1b;troopCounts[_0x11efa8(0x24e)](_0xead06b=>{const _0x523535=_0x11efa8;!_0x57b140['includes'](_0x523535(0x263))?_0xead06b[_0x523535(0x1ef)]===_0x432728&&_0xead06b[_0x3eafd6]>=_0x1db3b6&&(_0x2d8b1b={..._0x2d8b1b,'unitAmount':_0xead06b[_0x3eafd6]},_0x10f9d2[_0x523535(0x202)](_0x2d8b1b)):_0xead06b[_0x523535(0x1ef)]===_0x432728&&_0xead06b[_0x3eafd6]>=0x1&&(_0x2d8b1b={..._0x2d8b1b,'unitAmount':_0xead06b[_0x3eafd6]},_0x10f9d2[_0x523535(0x202)](_0x2d8b1b));});});DEBUG&&(console['debug'](scriptInfo()+_0x1cefff(0x281),_0x40117c),console[_0x1cefff(0x2b0)](scriptInfo()+_0x1cefff(0x21d),troopCounts),console['debug'](scriptInfo()+_0x1cefff(0x25e),_0x10f9d2));if(_0x10f9d2[_0x1cefff(0x248)]>0x0){const _0x267800=buildCombinationsTable(_0x10f9d2,_0xfb1e2c);jQuery(_0x1cefff(0x230))['show'](),jQuery(_0x1cefff(0x21c))[_0x1cefff(0x1bf)](_0x10f9d2[_0x1cefff(0x248)]),jQuery(_0x1cefff(0x2ce))['html'](_0x267800),jQuery(_0x1cefff(0x20a))['attr'](_0x1cefff(0x1a8),JSON[_0x1cefff(0x268)](_0x10f9d2)),Timing[_0x1cefff(0x269)][_0x1cefff(0x295)][_0x1cefff(0x299)]();}else UI[_0x1cefff(0x1b4)](tt(_0x1cefff(0x215))),jQuery(_0x1cefff(0x230))[_0x1cefff(0x24b)](),jQuery(_0x1cefff(0x21c))[_0x1cefff(0x1bf)](0x0),jQuery(_0x1cefff(0x2ce))[_0x1cefff(0x239)](''),jQuery(_0x1cefff(0x20a))[_0x1cefff(0x256)]('data-snipe','');});}function fillLandingTimeFromCommand(){jQuery('#commands_outgoings\x20table\x20tbody\x20tr.command-row,\x20#commands_incomings\x20table\x20tbody\x20tr.command-row')['on']('click',function(){const _0x23aae2=_0x2ae5;jQuery('#commands_outgoings\x20table\x20tbody\x20tr.command-row')[_0x23aae2(0x1a0)](_0x23aae2(0x1ca)),jQuery(this)[_0x23aae2(0x1db)](_0x23aae2(0x1ca));const _0x5e7c04=parseInt(jQuery(this)['find'](_0x23aae2(0x2c6))[_0x23aae2(0x256)]('data-endtime'))*0x3e8,_0x398be3=new Date(_0x5e7c04),_0x58e22a=getServerTime(),_0x3cafcc=new Date(),_0x557a76=Math[_0x23aae2(0x20b)](_0x3cafcc-_0x58e22a),_0x2e0dee=Math[_0x23aae2(0x20b)](_0x398be3-_0x557a76),_0x584977=new Date(_0x2e0dee),_0x9285c1=formatDateTime(_0x584977);jQuery(_0x23aae2(0x2b4))['val'](_0x9285c1),UI[_0x23aae2(0x1bd)](tt('Landing\x20time\x20was\x20updated!'));});}function filterVillagesByChosenGroup(){const _0x5599c0=_0x1b78e7;jQuery(_0x5599c0(0x274))['on'](_0x5599c0(0x1fc),function(_0x12a43f){const _0x1d1694=_0x5599c0;_0x12a43f[_0x1d1694(0x1ac)](),DEBUG&&console[_0x1d1694(0x2b0)](scriptInfo()+_0x1d1694(0x22b),_0x12a43f['target'][_0x1d1694(0x1a7)]),localStorage['setItem'](LS_PREFIX+_0x1d1694(0x1b3),_0x12a43f[_0x1d1694(0x253)][_0x1d1694(0x1a7)]),initVillageSnipe(_0x12a43f[_0x1d1694(0x253)][_0x1d1694(0x1a7)]);});}function exportBBCode(){const _0x30bdb5=_0x1b78e7;jQuery(_0x30bdb5(0x20a))['on']('click',function(_0x397f4c){const _0x16d2af=_0x30bdb5;_0x397f4c[_0x16d2af(0x1ac)]();const _0x59f9b0=jQuery(this)[_0x16d2af(0x256)](_0x16d2af(0x1a8));if(_0x59f9b0){jQuery(this)['addClass'](_0x16d2af(0x227));const _0x45cd7e=JSON['parse'](_0x59f9b0),_0x36d533=getBBCodeExport(_0x45cd7e),_0x384d0b=_0x16d2af(0x277)+tt('Export\x20as\x20BB\x20Code')+'</label>\x0a\x09\x09\x09\x09\x09<textarea\x20readonly\x20id=\x22exportBBCodeInput\x22>'+_0x36d533['trim']()+_0x16d2af(0x22a);Dialog['show'](_0x16d2af(0x1bb),_0x384d0b);}else UI['ErrorMessage'](tt(_0x16d2af(0x276)));});}function _0x2ae5(_0x142227,_0xea7c1b){const _0x1ed597=_0x1ed5();return _0x2ae5=function(_0x2ae591,_0x1055eb){_0x2ae591=_0x2ae591-0x1a0;let _0x4d7d87=_0x1ed597[_0x2ae591];return _0x4d7d87;},_0x2ae5(_0x142227,_0xea7c1b);}function buildUnitsChoserTable(){const _0x3780da=_0x1b78e7,_0x3049b7=JSON['parse'](localStorage[_0x3780da(0x258)](LS_PREFIX+'_chosen_units'));DEBUG&&console[_0x3780da(0x2b0)](scriptInfo()+_0x3780da(0x290),_0x3049b7);let _0x50cf3e='',_0x13e4c2='',_0x3be3eb='';return _0x3049b7!==null&&_0x3049b7!==undefined?game_data[_0x3780da(0x1f5)][_0x3780da(0x24e)](_0x46c4a2=>{const _0x3ba7b3=_0x3780da;if(_0x46c4a2!==_0x3ba7b3(0x2b6)&&_0x46c4a2!==_0x3ba7b3(0x291)){let _0x3911f1='';_0x3049b7[_0x3ba7b3(0x2bc)](_0x46c4a2)&&(_0x3911f1=_0x3ba7b3(0x28c)),_0x13e4c2+='\x0a\x09\x09\x09\x09\x09<th\x20class=\x22ra-text-center\x22>\x0a\x09\x09\x09\x09\x09\x09<label\x20for=\x22unit_'+_0x46c4a2+_0x3ba7b3(0x279)+_0x46c4a2+_0x3ba7b3(0x240),_0x3be3eb+=_0x3ba7b3(0x1d4)+_0x3911f1+_0x3ba7b3(0x259)+_0x46c4a2+_0x3ba7b3(0x243)+_0x46c4a2+_0x3ba7b3(0x286);}}):game_data[_0x3780da(0x1f5)][_0x3780da(0x24e)](_0x2915dc=>{const _0x57d749=_0x3780da;if(_0x2915dc!==_0x57d749(0x2b6)&&_0x2915dc!=='militia'){let _0x97cd1e='';(_0x2915dc===_0x57d749(0x2a7)||_0x2915dc===_0x57d749(0x2a2)||_0x2915dc===_0x57d749(0x1f1)||_0x2915dc===_0x57d749(0x20d)||_0x2915dc===_0x57d749(0x27b))&&(_0x97cd1e=_0x57d749(0x28c)),_0x13e4c2+=_0x57d749(0x28e)+_0x2915dc+_0x57d749(0x279)+_0x2915dc+_0x57d749(0x240),_0x3be3eb+=_0x57d749(0x1d4)+_0x97cd1e+_0x57d749(0x259)+_0x2915dc+_0x57d749(0x243)+_0x2915dc+_0x57d749(0x286);}}),_0x50cf3e=_0x3780da(0x245)+_0x13e4c2+'\x0a\x09\x09\x09\x09</tr>\x0a\x09\x09\x09</thead>\x0a\x09\x09\x09<tbody>\x0a\x09\x09\x09\x09<tr>\x0a\x09\x09\x09\x09\x09'+_0x3be3eb+_0x3780da(0x209),_0x50cf3e;}function buildCombinationsTable(_0x5f10bc,_0xc0eb13){const _0x280dd3=_0x1b78e7;let _0x8b3190=_0x280dd3(0x218)+tt('From')+_0x280dd3(0x1c1)+tt(_0x280dd3(0x2cc))+_0x280dd3(0x1c1)+tt('Distance')+_0x280dd3(0x1c1)+tt('Launch\x20Time')+_0x280dd3(0x1c1)+tt(_0x280dd3(0x1ec))+_0x280dd3(0x1c1)+tt(_0x280dd3(0x29a))+_0x280dd3(0x1b8);const _0x352618=getServerTime()[_0x280dd3(0x2a9)]();return _0x5f10bc[_0x280dd3(0x24e)]((_0x6d852a,_0x43e9b6)=>{const _0x4491f6=_0x280dd3,{id:_0x21cfdc,name:_0x4a1a3b,coords:_0x4819cc,unit:_0x4a267e,distance:_0x1ff56c,launchTime:_0xda3aa2,formattedLaunchTime:_0x56c767,unitAmount:_0xda077d}=_0x6d852a,[_0x93ea45,_0x2793a3]=_0xc0eb13['split']('|'),_0x297d19=getContinentByCoord(_0x4819cc),_0x128900=secondsToHms((_0xda3aa2-_0x352618)/0x3e8);let _0x49d30f='';game_data[_0x4491f6(0x2ad)][_0x4491f6(0x2d5)]>0x0?_0x49d30f=_0x4491f6(0x27f)+game_data['player']['id']+'&village='+_0x21cfdc+_0x4491f6(0x1ea)+_0x93ea45+_0x4491f6(0x275)+_0x2793a3+'&'+_0x4a267e+'='+_0xda077d:_0x49d30f=_0x4491f6(0x21a)+_0x21cfdc+'&screen=place&x='+_0x93ea45+'&y='+_0x2793a3+_0x4491f6(0x275)+_0x2793a3+'&'+_0x4a267e+'='+_0xda077d,_0x8b3190+=_0x4491f6(0x2b3)+(_0x43e9b6+0x1)+_0x4491f6(0x2d6)+game_data[_0x4491f6(0x2d4)]+_0x4491f6(0x1e2)+_0x21cfdc+'\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>\x0a\x09\x09\x09\x09\x09\x09'+_0x4a1a3b+'\x20('+_0x4819cc+')\x20K'+_0x297d19+'\x0a\x09\x09\x09\x09\x09</a>\x0a\x09\x09\x09\x09</td>\x0a\x09\x09\x09\x09<td>\x0a\x09\x09\x09\x09\x09<img\x20src=\x22/graphic/unit/unit_'+_0x4a267e+_0x4491f6(0x223)+formatAsNumber(_0xda077d)+'</span>\x0a\x09\x09\x09\x09</td>\x0a\x09\x09\x09\x09<td>\x0a\x09\x09\x09\x09\x09'+parseFloat(_0x1ff56c)[_0x4491f6(0x2a3)](0x2)+_0x4491f6(0x200)+_0x56c767+'\x0a\x09\x09\x09\x09</td>\x0a\x09\x09\x09\x09<td>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22timer\x22>'+_0x128900+_0x4491f6(0x2a1)+_0x49d30f+'\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20class=\x22btn\x22>\x0a\x09\x09\x09\x09\x09\x09'+tt(_0x4491f6(0x29a))+_0x4491f6(0x1dd);}),_0x8b3190+=_0x280dd3(0x2a5),_0x8b3190;}function secondsToHms(_0x566640){const _0x3969a3=_0x1b78e7,_0x4563c5=Math[_0x3969a3(0x26c)](_0x566640/0x3c/0x3c),_0x3976d9=Math[_0x3969a3(0x26c)](_0x566640/0x3c)-_0x4563c5*0x3c,_0x54c4d6=_0x566640%0x3c,_0x585ec2=_0x4563c5['toString']()[_0x3969a3(0x1f4)](0x2,'0')+':'+_0x3976d9[_0x3969a3(0x1d8)]()[_0x3969a3(0x1f4)](0x2,'0')+':'+_0x54c4d6['toString']()['padStart'](0x2,'0');return _0x585ec2;}function getBBCodeExport(_0x19469d){const _0x4591f1=_0x1b78e7,_0x59d3d5=jQuery(_0x4591f1(0x2b4))[_0x4591f1(0x265)]()[_0x4591f1(0x2ba)](),_0x4da0fc=jQuery(_0x4591f1(0x266))[_0x4591f1(0x265)]()[_0x4591f1(0x2ba)]();let _0x393ceb=_0x4591f1(0x262)+tt(_0x4591f1(0x226))+_0x4591f1(0x1f8)+_0x4da0fc+_0x4591f1(0x2ae)+tt(_0x4591f1(0x29f))+_0x4591f1(0x1f8)+_0x59d3d5+_0x4591f1(0x1b0);return _0x393ceb+=_0x4591f1(0x1d9)+tt(_0x4591f1(0x2cc))+_0x4591f1(0x2d8)+tt(_0x4591f1(0x289))+_0x4591f1(0x2d8)+tt(_0x4591f1(0x1e5))+_0x4591f1(0x2d8)+tt(_0x4591f1(0x2b1))+_0x4591f1(0x2d8)+tt(_0x4591f1(0x247))+_0x4591f1(0x285),_0x19469d[_0x4591f1(0x24e)](_0x57238c=>{const _0x25cdb4=_0x4591f1,{coords:_0x2b81c5,formattedLaunchTime:_0x20a493,id:_0x2bd635,unit:_0x508c7c,unitAmount:_0x45236d}=_0x57238c,[_0x56ffd1,_0x40af5f]=_0x4da0fc[_0x25cdb4(0x1d6)]('|');let _0x3b8134='';game_data[_0x25cdb4(0x2ad)][_0x25cdb4(0x2d5)]>0x0?_0x3b8134=_0x25cdb4(0x27f)+game_data[_0x25cdb4(0x2ad)]['id']+_0x25cdb4(0x1ab)+_0x2bd635+_0x25cdb4(0x1ea)+_0x56ffd1+_0x25cdb4(0x275)+_0x40af5f+'&'+_0x508c7c+'='+_0x45236d:_0x3b8134=_0x25cdb4(0x21a)+_0x2bd635+_0x25cdb4(0x1ea)+_0x56ffd1+_0x25cdb4(0x275)+_0x40af5f+'&'+_0x508c7c+'='+_0x45236d,_0x393ceb+=_0x25cdb4(0x1dc)+_0x508c7c+_0x25cdb4(0x208)+formatAsNumber(_0x45236d)+'[|]\x20'+_0x2b81c5+_0x25cdb4(0x1e3)+_0x20a493+_0x25cdb4(0x1a4)+window['location'][_0x25cdb4(0x26e)]+_0x3b8134+']'+tt(_0x25cdb4(0x29a))+_0x25cdb4(0x261);}),_0x393ceb+=_0x4591f1(0x1c3),_0x393ceb;}function getContinentByCoord(_0x10ddcc){const _0xccb86b=_0x1b78e7;if(!_0x10ddcc)return'';const _0x17817b=_0x10ddcc[_0xccb86b(0x1d6)]('|');return _0x17817b[0x1][_0xccb86b(0x1c2)](0x0)+_0x17817b[0x0][_0xccb86b(0x1c2)](0x0);}function calculateDistance(_0x204211,_0x415f71){const _0x1f0bdb=_0x1b78e7,[_0x560e04,_0x135e9e]=_0x204211[_0x1f0bdb(0x1d6)]('|'),[_0x5b90c1,_0x3599c3]=_0x415f71[_0x1f0bdb(0x1d6)]('|'),_0x39ed86=Math[_0x1f0bdb(0x20b)](_0x560e04-_0x5b90c1),_0x3823dd=Math[_0x1f0bdb(0x20b)](_0x135e9e-_0x3599c3);return Math['sqrt'](_0x39ed86*_0x39ed86+_0x3823dd*_0x3823dd);}function getLaunchTime(_0xf1ab30,_0x362ed1,_0xe3d69c){const _0x5bab6e=_0x1b78e7,_0x58f5e2=0x3e8,_0x32d626=0x3c,_0xc147aa=_0x58f5e2*_0x32d626,_0x30c2ff=+jQuery(_0x5bab6e(0x254))['val'](),_0x42b4a6=0x1+_0x30c2ff/0x64,_0x3e7470=unitInfo[_0x5bab6e(0x2aa)][_0xf1ab30]['speed'],_0x10ccc4=_0xe3d69c*_0x3e7470*_0xc147aa/_0x42b4a6,_0x3bbf72=new Date();return _0x3bbf72[_0x5bab6e(0x1b6)](Math['round']((_0x362ed1-_0x10ccc4)/_0x58f5e2)*_0x58f5e2),_0x3bbf72[_0x5bab6e(0x2a9)]();}function getServerTime(){const _0x31fa03=_0x1b78e7,_0x3364a4=jQuery('#serverTime')[_0x31fa03(0x1bf)](),_0x5c0c4b=jQuery(_0x31fa03(0x24f))[_0x31fa03(0x1bf)](),[_0x4a4228,_0x1ab45e,_0x28eada]=_0x5c0c4b[_0x31fa03(0x1d6)]('/'),_0x540bd4=_0x28eada+'-'+_0x1ab45e+'-'+_0x4a4228+'\x20'+_0x3364a4,_0x470922=new Date(_0x540bd4);return _0x470922;}function formatDateTime(_0x2fef94){const _0x39f278=_0x1b78e7;let _0x3ecbc7=new Date(_0x2fef94);var _0x3d75be=_0x3ecbc7[_0x39f278(0x1e0)](),_0x2e2d67=_0x3ecbc7[_0x39f278(0x2d0)](),_0x3b80e9=_0x3ecbc7['getDate'](),_0xb9d889=''+_0x3ecbc7[_0x39f278(0x288)](),_0x3c217a=''+_0x3ecbc7['getMinutes'](),_0x6c057d=''+_0x3ecbc7['getSeconds']();_0x2e2d67=_0x2e2d67+0x1,_0x2e2d67=''+_0x2e2d67,_0x2e2d67=_0x2e2d67[_0x39f278(0x1f4)](0x2,'0'),_0xb9d889=_0xb9d889[_0x39f278(0x1f4)](0x2,'0'),_0x3c217a=_0x3c217a['padStart'](0x2,'0'),_0x6c057d=_0x6c057d[_0x39f278(0x1f4)](0x2,'0');let _0x5aded9=_0x3b80e9+'/'+_0x2e2d67+'/'+_0x3d75be+'\x20'+_0xb9d889+':'+_0x3c217a+':'+_0x6c057d;return _0x5aded9;}function getLandingTime(_0x560898){const _0x1a3c31=_0x1b78e7,[_0x371993,_0x4bb5e2]=_0x560898[_0x1a3c31(0x1d6)]('\x20'),[_0x4f4fdb,_0x47121b,_0x56acd0]=_0x371993[_0x1a3c31(0x1d6)]('/'),_0x39f076=_0x56acd0+'-'+_0x47121b+'-'+_0x4f4fdb+'\x20'+_0x4bb5e2,_0x9c1229=new Date(_0x39f076);return _0x9c1229;}function renderGroupsFilter(_0x3ae1ff){const _0x2fbdeb=_0x1b78e7,_0x38da56=localStorage[_0x2fbdeb(0x258)](LS_PREFIX+'_chosen_group')??0x0;let _0x4e5038=_0x2fbdeb(0x20e);for(const [_0x5b3797,_0x3e2bee]of Object[_0x2fbdeb(0x246)](_0x3ae1ff[_0x2fbdeb(0x28f)])){const {group_id:_0x11dccd,name:_0x5aab3b}=_0x3e2bee,_0xbb8233=parseInt(_0x11dccd)===parseInt(_0x38da56)?'selected':'';_0x5aab3b!==undefined&&(_0x4e5038+=_0x2fbdeb(0x270)+_0x11dccd+'\x22\x20'+_0xbb8233+_0x2fbdeb(0x29b)+_0x5aab3b+'\x0a\x09\x09\x09\x09</option>\x0a\x09\x09\x09');}return _0x4e5038+=_0x2fbdeb(0x1be),_0x4e5038;}async function fetchAllPlayerVillagesByGroup(_0x44f25f){const _0xc0bc9a=_0x1b78e7;try{let _0x394347='';game_data[_0xc0bc9a(0x2ad)][_0xc0bc9a(0x2d5)]>0x0?_0x394347=game_data[_0xc0bc9a(0x2d4)]+(_0xc0bc9a(0x280)+game_data['player']['id']):_0x394347=game_data[_0xc0bc9a(0x2d4)]+_0xc0bc9a(0x28a);const _0x5690b7=await jQuery['post']({'url':_0x394347,'data':{'group_id':_0x44f25f},'dataType':_0xc0bc9a(0x292),'headers':{'TribalWars-Ajax':0x1}})['then'](({response:_0x747137})=>{const _0x4ca6d0=_0xc0bc9a,_0x2235e0=new DOMParser(),_0x88e779=_0x2235e0[_0x4ca6d0(0x225)](_0x747137['html'],_0x4ca6d0(0x1d2)),_0x2bf4d2=jQuery(_0x88e779)[_0x4ca6d0(0x2d3)](_0x4ca6d0(0x2c3))[_0x4ca6d0(0x1d1)](':eq(0)');if(_0x2bf4d2[_0x4ca6d0(0x248)]){let _0x2248dd=[];return _0x2bf4d2[_0x4ca6d0(0x26b)](function(){const _0x71f97a=_0x4ca6d0,_0x5667a4=parseInt(jQuery(this)[_0x71f97a(0x2d3)](_0x71f97a(0x1f7))[_0x71f97a(0x256)](_0x71f97a(0x2c8))['split']('(')[0x1]['split'](',')[0x0]),_0x1dc7cc=jQuery(this)[_0x71f97a(0x2d3)](_0x71f97a(0x1a1))[_0x71f97a(0x1bf)]()[_0x71f97a(0x2ba)](),_0x3bff06=jQuery(this)[_0x71f97a(0x2d3)](_0x71f97a(0x1eb))[_0x71f97a(0x1bf)]()[_0x71f97a(0x2ba)]();_0x2248dd['push']({'id':_0x5667a4,'name':_0x1dc7cc,'coords':_0x3bff06});}),_0x2248dd;}else return[];});return _0x5690b7;}catch(_0x199124){return UI[_0xc0bc9a(0x1b4)](tt(_0xc0bc9a(0x24d))),console[_0xc0bc9a(0x2cb)](scriptInfo()+_0xc0bc9a(0x250),_0x199124),[];}}async function fetchVillageGroups(){const _0x2b71ca=_0x1b78e7;let _0xbffa56='';game_data['player'][_0x2b71ca(0x2d5)]>0x0?_0xbffa56=game_data[_0x2b71ca(0x2d4)]+(_0x2b71ca(0x283)+game_data[_0x2b71ca(0x2ad)]['id']):_0xbffa56=game_data[_0x2b71ca(0x2d4)]+_0x2b71ca(0x26d);const _0x535542=await jQuery[_0x2b71ca(0x1cd)](_0xbffa56)[_0x2b71ca(0x204)](_0x1f7a10=>_0x1f7a10)[_0x2b71ca(0x231)](_0x22ef27=>{const _0x186751=_0x2b71ca;UI[_0x186751(0x1b4)](_0x186751(0x28d)),console['error'](scriptInfo()+_0x186751(0x250),_0x22ef27);});return _0x535542;}function fetchUnitInfo(){const _0x5a2a1c=_0x1b78e7;jQuery[_0x5a2a1c(0x255)]({'url':'/interface.php?func=get_unit_info'})[_0x5a2a1c(0x1af)](function(_0x53bc48){const _0x1153a4=_0x5a2a1c;unitInfo=xml2json($(_0x53bc48)),localStorage[_0x1153a4(0x1e7)](LS_PREFIX+_0x1153a4(0x1da),JSON[_0x1153a4(0x268)](unitInfo)),localStorage[_0x1153a4(0x1e7)](LS_PREFIX+'_last_updated',Date[_0x1153a4(0x1d0)](new Date()));});}async function fetchTroopsForCurrentGroup(_0x5543df){const _0x38c11a=_0x1b78e7,_0x3fc316=await jQuery[_0x38c11a(0x1cd)](game_data[_0x38c11a(0x2d4)]+(_0x38c11a(0x24c)+_0x5543df+'&'))[_0x38c11a(0x204)](_0x27f0f8=>{const _0x3d576e=_0x38c11a,_0xc910f0=jQuery[_0x3d576e(0x1c9)](_0x27f0f8),_0x59362f=jQuery(_0xc910f0)[_0x3d576e(0x2d3)](_0x3d576e(0x2c9)),_0x4f2d5a=jQuery(_0xc910f0)[_0x3d576e(0x2d3)](_0x3d576e(0x23b)),_0x544fe1=[],_0x80a4d0=[];return jQuery(_0x4f2d5a)['each'](function(){const _0x2e954c=_0x3d576e,_0x3488d2=jQuery(this)[_0x2e954c(0x2d3)](_0x2e954c(0x221))['attr'](_0x2e954c(0x23e));if(_0x3488d2){let _0x38ee2f=_0x3488d2['split']('/')[_0x2e954c(0x241)]();_0x38ee2f=_0x38ee2f[_0x2e954c(0x264)](_0x2e954c(0x23a),''),_0x80a4d0['push'](_0x38ee2f);}else _0x80a4d0[_0x2e954c(0x202)](null);}),_0x59362f['each'](function(){const _0x1a77e0=_0x3d576e;let _0x2c8c13={};_0x80a4d0[_0x1a77e0(0x24e)]((_0x148d4f,_0x59a6f2)=>{const _0x3704cf=_0x1a77e0;if(_0x148d4f){if(_0x148d4f[_0x3704cf(0x2bc)]('unit_')){const _0x493355=jQuery(this)[_0x3704cf(0x2d3)]('td:eq(1)\x20span.quickedit-vn')[_0x3704cf(0x256)](_0x3704cf(0x1aa)),_0x1a6aaa=_0x148d4f[_0x3704cf(0x264)](_0x3704cf(0x238),'');_0x2c8c13={..._0x2c8c13,'villageId':parseInt(_0x493355),[_0x1a6aaa]:parseInt(jQuery(this)[_0x3704cf(0x2d3)](_0x3704cf(0x27c)+_0x59a6f2+')')[_0x3704cf(0x1bf)]())};}}}),_0x544fe1[_0x1a77e0(0x202)](_0x2c8c13);}),_0x544fe1;})['catch'](_0x133f1b=>{const _0x2d366b=_0x38c11a;UI[_0x2d366b(0x1b4)](tt(_0x2d366b(0x24a))),console[_0x2d366b(0x2cb)](scriptInfo()+_0x2d366b(0x250),_0x133f1b);});return _0x3fc316;}function resetScriptConfig(){const _0x297222=_0x1b78e7;localStorage[_0x297222(0x25b)](LS_PREFIX+_0x297222(0x1b3)),localStorage[_0x297222(0x25b)](LS_PREFIX+'_last_updated'),localStorage[_0x297222(0x25b)](LS_PREFIX+_0x297222(0x1da)),localStorage[_0x297222(0x25b)](LS_PREFIX+_0x297222(0x2b2));}function formatAsNumber(_0x46f35b){const _0x3cc88a=_0x1b78e7;return parseInt(_0x46f35b)[_0x3cc88a(0x21f)]('de');}var xml2json=function(_0x2d8e05){const _0x2d3370=_0x1b78e7;var _0x20f37e={};return $[_0x2d3370(0x26b)](_0x2d8e05['children'](),function(_0x1bdc50){const _0x42e098=_0x2d3370;var _0x562ad5=$(this);_0x562ad5['children']()[_0x42e098(0x248)]>0x0?_0x20f37e[_0x562ad5[_0x42e098(0x25a)](_0x42e098(0x1b7))]=xml2json(_0x562ad5):_0x20f37e[_0x562ad5[_0x42e098(0x25a)](_0x42e098(0x1b7))]=$[_0x42e098(0x2ba)](_0x562ad5['text']());}),_0x20f37e;};function getParameterByName(_0x976897,_0xf65d90=window[_0x1b78e7(0x220)][_0x1b78e7(0x2c8)]){const _0x236e99=_0x1b78e7;return new URL(_0xf65d90)[_0x236e99(0x2ca)][_0x236e99(0x1cd)](_0x976897);}function countAPI(){const _0x4892fb=_0x1b78e7,{author:_0x127498,prefix:_0x215309}=scriptData;jQuery['getJSON'](_0x4892fb(0x2b5)+_0x127498+'/'+_0x215309,function({value:_0xbcb0ea}){const _0x4077ea=_0x4892fb;console['debug'](scriptInfo()+_0x4077ea(0x1f6)+formatAsNumber(parseInt(_0xbcb0ea))+_0x4077ea(0x1b1));});}function scriptInfo(){const _0x2f87b3=_0x1b78e7;return'['+scriptData[_0x2f87b3(0x1f0)]+'\x20'+scriptData[_0x2f87b3(0x1cc)]+']';}function initDebug(){const _0x106df8=_0x1b78e7;console[_0x106df8(0x2b0)](scriptInfo()+_0x106df8(0x206)),console[_0x106df8(0x2b0)](scriptInfo()+_0x106df8(0x1ed),scriptData[_0x106df8(0x233)]),DEBUG&&(console['debug'](scriptInfo()+_0x106df8(0x1fd),game_data[_0x106df8(0x1d5)]),console[_0x106df8(0x2b0)](scriptInfo()+_0x106df8(0x1ee),game_data[_0x106df8(0x2b7)]),console['debug'](scriptInfo()+_0x106df8(0x20f),game_data[_0x106df8(0x26a)]),console[_0x106df8(0x2b0)](scriptInfo()+_0x106df8(0x28b),game_data['majorVersion']),console[_0x106df8(0x2b0)](scriptInfo()+'\x20Game\x20Build:',game_data[_0x106df8(0x1cc)]),console[_0x106df8(0x2b0)](scriptInfo()+_0x106df8(0x213),game_data[_0x106df8(0x229)]),console['debug'](scriptInfo()+_0x106df8(0x237),game_data[_0x106df8(0x1e4)][_0x106df8(0x244)][_0x106df8(0x201)]));}function tt(_0x59aa33){const _0x2f91bb=_0x1b78e7,_0x3d0965=game_data[_0x2f91bb(0x229)];return translations[_0x3d0965]!==undefined?translations[_0x3d0965][_0x59aa33]:translations[_0x2f91bb(0x23f)][_0x59aa33];}(function(){const _0x3a8f92=_0x1b78e7,_0x3f3ed2=getParameterByName(_0x3a8f92(0x26a));if(_0x3f3ed2===_0x3a8f92(0x1c6))try{initVillageSnipe(GROUP_ID);}catch(_0x2ceb91){UI[_0x3a8f92(0x1b4)](tt(_0x3a8f92(0x1d3))),console[_0x3a8f92(0x2cb)](scriptInfo()+'\x20Error:',_0x2ceb91);}else UI[_0x3a8f92(0x1b4)](tt(_0x3a8f92(0x2c1))),setTimeout(function(){const _0x1f6182=_0x3a8f92;window[_0x1f6182(0x220)]['assign'](game_data[_0x1f6182(0x2d4)]+_0x1f6182(0x1e2)+game_data[_0x1f6182(0x2d2)]['id']);},0x1f4);}());